# –ê—É–¥–∏–æ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ç–æ—Ä —Å Telegram –±–æ—Ç–æ–º

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –ø–∞–π–ø–ª–∞–π–Ω –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∞—É–¥–∏–æ: —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è, –¥–∏–∞—Ä–∏–∑–∞—Ü–∏—è —Å–ø–∏–∫–µ—Ä–æ–≤ –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–∞–º–º–∞—Ä–∏. –¢–∞–∫–∂–µ –≤—Ö–æ–¥–∏—Ç Telegram –±–æ—Ç –¥–ª—è —É–¥–æ–±–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ñ–∞–π–ª–æ–≤.

## –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

- **Whisper** ‚Äî —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ä–µ—á–∏ (OpenAI)
- **NVIDIA NeMo** ‚Äî –¥–∏–∞—Ä–∏–∑–∞—Ü–∏—è —Å–ø–∏–∫–µ—Ä–æ–≤ (–∫—Ç–æ —á—Ç–æ –≥–æ–≤–æ—Ä–∏–ª)
- **Ollama + Gemma 27B** ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–∞–º–º–∞—Ä–∏
- **Telegram Bot** ‚Äî —É–¥–æ–±–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ñ–∞–π–ª–æ–≤

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.9+
- FFmpeg (–¥–ª—è –æ—á–∏—Å—Ç–∫–∏ –∞—É–¥–∏–æ)
- CUDA-—Å–æ–≤–º–µ—Å—Ç–∏–º–∞—è –≤–∏–¥–µ–æ–∫–∞—Ä—Ç–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è)
- 16+ –ì–ë –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–º—è—Ç–∏
- 50+ –ì–ë —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞ –Ω–∞ –¥–∏—Å–∫–µ –¥–ª—è –º–æ–¥–µ–ª–µ–π
- Telegram Bot Token (—Å–º. –Ω–∏–∂–µ)

### –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ FFmpeg

**Ubuntu/Debian:**
```bash
sudo apt update && sudo apt install ffmpeg
```

**macOS:**
```bash
brew install ffmpeg
```

**Windows:** –°–∫–∞—á–∞–π—Ç–µ —Å [ffmpeg.org](https://ffmpeg.org/download.html)

### –®–∞–≥ 2: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Python-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
pip install -r requirements.txt
```

### –®–∞–≥ 3: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Ollama

–°–∫–∞—á–∞–π—Ç–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Ollama —Å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Å–∞–π—Ç–∞: [https://ollama.com](https://ollama.com)

–ó–∞–ø—É—Å—Ç–∏—Ç–µ Ollama –∏ –∑–∞–≥—Ä—É–∑–∏—Ç–µ –º–æ–¥–µ–ª—å Gemma 27B:
```bash
ollama pull gemma3:27b
```

### –®–∞–≥ 4: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Obsidian (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–°–∫–∞—á–∞–π—Ç–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Obsidian: [https://obsidian.md](https://obsidian.md)

### –®–∞–≥ 5: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram –±–æ—Ç–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ Telegram –∏ –Ω–∞–π–¥–∏—Ç–µ –±–æ—Ç–∞ **@BotFather**
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É `/newbot`
3. –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º, —á—Ç–æ–±—ã —Å–æ–∑–¥–∞—Ç—å –±–æ—Ç–∞
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω
5. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –¥–æ–±–∞–≤—å—Ç–µ —Ç–æ–∫–µ–Ω:

```bash
TELEGRAM_BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–∑–¥–µ—Å—å
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### üìñ –õ–æ–∫–∞–ª—å–Ω—ã–π –ø–∞–π–ø–ª–∞–π–Ω

```bash
python pipeline.py –ø—É—Ç—å/–∫/–∞—É–¥–∏–æ—Ñ–∞–π–ª—É.mp3
```

### –ü–æ–ª–Ω—ã–π –∑–∞–ø—É—Å–∫ —Å –æ–ø—Ü–∏—è–º–∏

```bash
python pipeline.py input.wav \
  --lang ru \
  --temperature 0 \
  --no-summary
```

### –û–ø—Ü–∏–∏ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|----------|
| `--no-clean` | –ù–µ –æ—á–∏—â–∞—Ç—å –∞—É–¥–∏–æ –æ—Ç —Ç–∏—à–∏–Ω—ã |
| `--no-summary` | –ù–µ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–∞–º–º–∞—Ä–∏ |
| `--lang` | –Ø–∑—ã–∫ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: ru) |
| `--temperature` | –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –¥–ª—è Whisper (0-1) |
| `--beam-size` | Beam size –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–∞ |
| `--prompt` | –í–≤–æ–¥–Ω–∞—è –ø–æ–¥—Å–∫–∞–∑–∫–∞ –¥–ª—è –º–æ–¥–µ–ª–∏ |

### –û—Ç–¥–µ–ª—å–Ω—ã–µ —à–∞–≥–∏

```bash
# –¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è
python transcribe.py audio.mp3 --lang ru

# –î–∏–∞—Ä–∏–∑–∞—Ü–∏—è
python diarize.py audio.wav audio.json 12

# –°–∞–º–º–∞—Ä–∏
python summarize.py audio_tagged.json
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
protocolista/
‚îú‚îÄ‚îÄ telegram_bot.py    # Telegram –±–æ—Ç –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ñ–∞–π–ª–æ–≤
‚îú‚îÄ‚îÄ transcribe.py      # –¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è –∞—É–¥–∏–æ —Å –ø–æ–º–æ—â—å—é Whisper
‚îú‚îÄ‚îÄ diarize.py         # –î–∏–∞—Ä–∏–∑–∞—Ü–∏—è —Å–ø–∏–∫–µ—Ä–æ–≤ —Å –ø–æ–º–æ—â—å—é NeMo
‚îú‚îÄ‚îÄ summarize.py       # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–∞–º–º–∞—Ä–∏ —Å –ø–æ–º–æ—â—å—é Ollama
‚îú‚îÄ‚îÄ convert.py         # –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è JSON –≤ Markdown
‚îú‚îÄ‚îÄ pipeline.py        # –û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç –ø–∞–π–ø–ª–∞–π–Ω–∞
‚îú‚îÄ‚îÄ clean_audio.py     # –û—á–∏—Å—Ç–∫–∞ –∞—É–¥–∏–æ –æ—Ç —Ç–∏—à–∏–Ω—ã
‚îú‚îÄ‚îÄ requirements.txt   # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ .env.example       # –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –±–æ—Ç–∞
‚îî‚îÄ‚îÄ README.md
```

## –ü—Ä–∏–º–µ—Ä—ã –≤—ã–≤–æ–¥–∞

### –¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è (TXT)
```
–ü—Ä–∏–≤–µ—Ç, –∫–æ–º–∞–Ω–¥–∞! –ö–∞–∫–∏–µ —É –Ω–∞—Å —Å–µ–≥–æ–¥–Ω—è –Ω–æ–≤–æ—Å—Ç–∏ –ø–æ –ø—Ä–æ–µ–∫—Ç—É?
–í—Å—ë –∏–¥—ë—Ç –ø–æ –ø–ª–∞–Ω—É, –Ω–æ –µ—Å—Ç—å –ø–∞—Ä–∞ –Ω—é–∞–Ω—Å–æ–≤...
```

### –î–∏–∞—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π JSON
```json
{
  "speaker": "Speaker1",
  "text": "–ü—Ä–∏–≤–µ—Ç, –∫–æ–º–∞–Ω–¥–∞!",
  "start": 0.0,
  "end": 1.5
}
```

### –°–∞–º–º–∞—Ä–∏ (Markdown)
```markdown
# –°–∞–º–º–∞—Ä–∏: meeting

## –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–µ–º—ã
- –û–±—Å—É–∂–¥–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –ø—Ä–æ–µ–∫—Ç–∞

## –†–µ—à–µ–Ω–∏—è
- –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ç–µ–∫—É—â–∏–π –≥—Ä–∞—Ñ–∏–∫

## –ó–∞–¥–∞—á–∏
- –ò–≤–∞–Ω: –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –æ—Ç—á—ë—Ç (–¥–æ –ø—è—Ç–Ω–∏—Ü—ã)
```

## –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

- **NeMo —Ç—Ä–µ–±—É–µ—Ç –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤** - –¥–ª—è –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ GPU
- **Ollama –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω–∞** –ø–µ—Ä–µ–¥ –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π —Å–∞–º–º–∞—Ä–∏
- **–ú–æ–¥–µ–ª–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑** - –ø–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ –º–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–¥–ª–µ–Ω–Ω—ã–º

## –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [Whisper GitHub](https://github.com/openai/whisper)
- [NVIDIA NeMo](https://docs.nvidia.com/deeplearning/nemo/user-guide/docs/en/stable/)
- [Ollama](https://ollama.com)
- [Gemma](https://ai.google.dev/gemma)
- [Obsidian](https://obsidian.md)

## ü§ñ Telegram –ë–æ—Ç

### –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–æ–∫–µ–Ω–∞ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞:

```bash
python telegram_bot.py
```

### –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –±–æ—Ç–∞

- **–ö–æ–º–∞–Ω–¥–∞ `/start`** - –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏
- **–ö–æ–º–∞–Ω–¥–∞ `/help`** - –ø–æ–º–æ—â—å –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
- **–ê—É–¥–∏–æ —Ñ–∞–π–ª—ã** - –æ—Ç–ø—Ä–∞–≤—å—Ç–µ mp3, wav, m4a, ogg –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏

### –ß—Ç–æ –¥–µ–ª–∞–µ—Ç –±–æ—Ç

1. –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –∞—É–¥–∏–æ—Ñ–∞–π–ª –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
2. –¢—Ä–∞–Ω—Å–∫—Ä–∏–±–∏—Ä—É–µ—Ç —Ä–µ—á—å —Å –ø–æ–º–æ—â—å—é Whisper
3. –†–∞–∑–¥–µ–ª—è–µ—Ç —Ä–µ—á—å –ø–æ —Å–ø–∏–∫–µ—Ä–∞–º —Å –ø–æ–º–æ—â—å—é NeMo (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
4. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–∞–º–º–∞—Ä–∏ —Å –ø–æ–º–æ—â—å—é Ollama + Gemma (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
5. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –≤ –≤–∏–¥–µ —Ç–µ–∫—Å—Ç–∞ –∏ —Ñ–∞–π–ª–æ–≤

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã

- MP3
- WAV
- M4A
- OGG

### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç:
- –¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—é –≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–º –≤–∏–¥–µ
- JSON —Ñ–∞–π–ª —Å —Å–µ–≥–º–µ–Ω—Ç–∞–º–∏
- JSON —Ñ–∞–π–ª —Å –¥–∏–∞—Ä–∏–∑–∞—Ü–∏–µ–π (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ)
- –°–∞–º–º–∞—Ä–∏ –≤ Markdown (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ)

### –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –û–±—Ä–∞–±–æ—Ç–∫–∞ –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –¥–ª–∏–Ω—ã –∞—É–¥–∏–æ
- –î–ª—è –¥–∏–∞—Ä–∏–∑–∞—Ü–∏–∏ –∏ —Å–∞–º–º–∞—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã
- Ollama –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω–∞ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–∞–º–º–∞—Ä–∏

---

## üìã –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

### üîä –¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è –∞—É–¥–∏–æ

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|--|--|
| `/s2t` | –†–∞—Å—à–∏—Ñ—Ä–æ–≤–∞—Ç—å –∑–∞–ø–∏—Å—å –±–µ–∑ —É–∫–∞–∑–∞–Ω–∏—è –≥–æ–≤–æ—Ä—è—â–∏—Ö |
| `/s2t_spk` | –†–∞—Å—à–∏—Ñ—Ä–æ–≤–∞—Ç—å –∑–∞–ø–∏—Å—å —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –≥–æ–≤–æ—Ä—è—â–∏—Ö |

### üìÑ –§–æ—Ä–º–∞—Ç—ã –≤—ã–≤–æ–¥–∞ —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∏

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|--|--|
| `/md` | –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫—É –≤ —Ñ–æ—Ä–º–∞—Ç–µ Markdown |
| `/list` | –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫—É —Å –º–∞—Ä–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ —Å–ø–∏—Å–∫–∞–º–∏ |

### üìã –°–≤–æ–¥–Ω—ã–µ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|--|--|
| `/summary` | –í—ã–¥–∞—Ç—å —Å–≤–æ–¥–Ω—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª –≤ —á–∞—Ç |
| `/summary_md` | –í—ã–¥–∞—Ç—å —Å–≤–æ–¥–Ω—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª –≤ —Ñ–∞–π–ª |

### üìù –ü—Ä–æ—Ç–æ–∫–æ–ª—ã –Ω–∞ —à–∞–±–ª–æ–Ω–∞—Ö –≤—Å—Ç—Ä–µ—á–∏

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|--|--|
| `/protocol` | –í—ã–¥–∞—Ç—å –ø—Ä–æ—Ç–æ–∫–æ–ª –≤—Å—Ç—Ä–µ—á–∏ –≤ —á–∞—Ç |
| `/protocol_md` | –í—ã–¥–∞—Ç—å –ø—Ä–æ—Ç–æ–∫–æ–ª –≤—Å—Ç—Ä–µ—á–∏ –≤ —Ñ–∞–π–ª |

---

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –∫–æ–º–∞–Ω–¥–∞–º:** `COMMANDS.md`
